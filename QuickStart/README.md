# å¼€å¯å¿«é€Ÿæ¥å…¥å’Œè”è°ƒSUDæ¸¸æˆä¹‹æ—…

- ç¬¬ä¸€æ­¥ï¼šWebç«¯é›†æˆSUDæ¸¸æˆï¼ˆä¸‰åˆ†é’Ÿé›†æˆä»£ç ï¼‰
  <details>
  <summary>è¯¦ç»†æè¿°</summary>
  
      1.appIdã€appKeyï¼Œè¯·ä½¿ç”¨QuickStartå®¢æˆ·ç«¯çš„ï¼›
      2.Web bundleId(æ¥å…¥ä¿¡æ¯è¡¨ä¸­çš„bundleId/applicationId)ï¼›
      3.çŸ­æœŸä»¤ç‰Œcodeï¼Œè¯·ä½¿ç”¨QuickStartçš„åç«¯æœåŠ¡ï¼ˆlogin/getCodeè·å–çš„ï¼‰ï¼›
      4.å®Œæˆé›†æˆï¼Œæ¸¸æˆè·‘èµ·æ¥ï¼›
  
      *** SUDå¹³å°æ”¯æŒä¸€ä¸ªappIdç»‘å®šå¤šä¸ªbundleIdå’ŒapplicationIdï¼›***
      *** å¡«å®Œæ¥å…¥ä¿¡æ¯è¡¨åï¼ŒSUDä¼šå°†APPçš„bundleIdå’ŒapplicationIdï¼Œç»‘å®šåˆ°QuickStartçš„appIdä¸Šï¼Œä»…æ”¯æŒæµ‹è¯•ç¯å¢ƒï¼›***
  QuickStart åç«¯æœåŠ¡[hello-sud-javaä»£ç ä»“åº“](https://github.com/SudTechnology/hello-sud-java) ï¼Œ`å¦‚æœè®¿é—®ä¸äº†ä»£ç ä»“åº“ï¼Œè¯·è”ç³»SUDæ·»åŠ ï¼Œgithubè´¦å·`ï¼›
  </details>


- ç¬¬äºŒæ­¥ï¼šWebç«¯å’ŒæœåŠ¡ç«¯è”è°ƒ
  <details>
  <summary>è¯¦ç»†æè¿°</summary>
  
      1.æœåŠ¡ç«¯å®ç°4ä¸ªHTTP APIï¼›ï¼ˆæ¥å…¥ä¿¡æ¯è¡¨å¡«çš„ï¼‰
      2.è¯·ä½¿ç”¨Webç«¯è‡ªå·±çš„appIdã€appKeyã€bundleId
      3.æœåŠ¡ç«¯å®ç°login/getCodeæ¥å£ï¼Œè·å–çŸ­æœŸä»¤ç‰Œcodeï¼›
      4.Webç«¯å’ŒæœåŠ¡ç«¯è”è°ƒ5ä¸ªHTTP APIï¼›
      5.å®ŒæˆHTTP APIè”è°ƒï¼›
  </details>


- ç¬¬ä¸‰æ­¥ï¼šWebä¸“æ³¨äºè‡ªèº«ä¸šåŠ¡éœ€æ±‚
  <details>
  <summary>è¯¦ç»†æè¿°</summary>

      1.å‚è€ƒSudMGPæ–‡æ¡£ã€SudMGPWrapperã€QuickStartã€HelloSudä½“éªŒDemoï¼ˆå±•ç¤ºå¤šåœºæ™¯ï¼ŒCustomè‡ªå®šä¹‰åœºæ™¯ï¼‰ï¼›
      2.ä¸“æ³¨äºWeb UIäº¤äº’ã€åŠŸèƒ½æ˜¯å¦æ”¯æŒã€å¦‚ä½•å®ç°
      æ¯”å¦‚ï¼š
      è°ƒæ•´æ¸¸æˆViewå¤§å°ã€ä½ç½®ï¼›
      è°ƒæ•´Webå’Œæ¸¸æˆäº¤äº’æµç¨‹ï¼ŒUIå…ƒç´ æ˜¯å¦å¯éšè—ï¼ŒæŒ‰é’®æ˜¯å¦å¯éšè—APPå®ç°ï¼Œç‚¹å‡»äº‹ä»¶æ˜¯å¦æ”¯æŒæ‹¦æˆªå›è°ƒï¼›
      
      3.ä¸“æ³¨äºWebä¸šåŠ¡é€»è¾‘æµç¨‹ã€å®ç°
      æ¯”å¦‚ï¼š
      ä¸€å±€æ¸¸æˆå¼€å§‹å¦‚ä½•é€ä¼ æ•°å€¼ç±»å‹å‚æ•°ã€Keyç±»å‹å‚æ•°ï¼›ï¼ˆç»“ç®—ï¼‰
  ![Android](doc/hello_sudplus_android.png)
  ![iPhone](doc/hello_sudplus_iphone.png)
  [Web Demo](https://hello-sud.sud.tech/)

  </details>

# ä¸‰åˆ†é’Ÿé›†æˆä»£ç 

- ç¬¬ä¸€æ­¥ï¼šå®‰è£…SudMGPSDKã€SudMGPWrapper
  <details>
  <summary>è¯¦ç»†æè¿°</summary>
  
  1. æ‰§è¡Œå‘½ä»¤ 
    ```javascript
      npm install sudmgp-sdk-js sudmgp-sdk-js-wrapper
    ```
  </details>
  SudMGPWrapperå¼€æºï¼Œå°±åœ¨demoä¸‹çš„SudMGPWrapperæ–‡ä»¶å¤¹å†…ï¼Œè¯·äº†è§£è¿™ä¸ªç±»çš„ä½œç”¨ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿è°ƒç”¨sdkçš„api

- ç¬¬äºŒæ­¥ï¼šåœ¨é¡¹ç›®å†…å¯¼å…¥æ¨¡å—SudMGPSDKã€SudMGPWrapper
  <details>
  <summary>è¯¦ç»†æè¿°</summary>
  

  ``` javascript
    import { GameConfigModel, SudFSMMGDecorator, SudFSTAPPDecorator, SudFSMMGListener } from 'sudmgp-sdk-js-wrapper'
    // SudMGPWrapper å¯ä»¥å•ç‹¬å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥æŒ‰éœ€å¯¼å…¥
    // import { SudMGPWrapper } from 'sudmgp-sdk-js-wrapper' å…¨é‡å¯¼å…¥SudMGPWrapper

    import { SudMGP } from 'sudmgp-sdk-js'

  ```
  </details>


- ç¬¬ä¸‰æ­¥ï¼šåœ¨Demoé‡Œé¢å·²ç»æœ‰ä¸€ä¸ªæˆå‹çš„[QuickStart](https://github.com/SudTechnology/hello-sud-plus-h5/blob/master/QuickStart/react/src/QuickStart/index.ts)ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶è¯¥ä»£ç åˆ°é¡¹ç›®ä¸­å¯¼å…¥ä½¿ç”¨
  <details>
  <summary>è¯¦ç»†æè¿°</summary>

      1.ä¿®æ”¹QuickStartæ–‡ä»¶å†…çš„appIdå’ŒappKey
      2.webè‡ªè¡Œå®ç°QuickStartæ–‡ä»¶å†…getCodeçš„loginï¼ˆåç«¯æœåŠ¡login/getCodeï¼‰è¯·æ±‚æ¥å£çš„æ–¹å¼
  ```javascript
    /** ä½¿ç”¨çš„UserIdã€‚è¿™é‡Œéšæœºç”Ÿæˆä½œæ¼”ç¤ºï¼Œå¼€å‘è€…å°†å…¶ä¿®æ”¹ä¸ºä¸šåŠ¡ä½¿ç”¨çš„å”¯ä¸€userId */
    public userId = Math.floor((Math.random() + 1) * 10000).toString()
    /** Sudå¹³å°ç”³è¯·çš„appId */
    public SudMGP_APP_ID = "1461564080052506636"
    /** Sudå¹³å°ç”³è¯·çš„appKey */
    public SudMGP_APP_KEY = "03pNxK2lEXsKiiwrBQ9GbH541Fk2Sfnc"

     public getBundleId() {
        return location.hostname // æ­¤å¤„æ˜¯ä½¿ç”¨äº†åŸŸåï¼Œå¯ä»¥å†™æ­»å€¼ï¼Œå¦‚æœæ˜¯æ¡Œé¢åº”ç”¨å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„bundleIdï¼Œä¸åå°å…³è”çš„å€¼ä¿æŒä¸€è‡´å³å¯
      }

  ```
      3.Webå®¢æˆ·ç«¯è¯·ä½¿ç”¨QuickStartåç«¯æœåŠ¡login/getCodeï¼›
        *** å®ç°Webå¿«é€ŸåŠ è½½è¿è¡Œæ¸¸æˆï¼Œä½¿ç”¨QuickStartæœåŠ¡ ***
        *** SUDå¹³å°æ”¯æŒä¸€ä¸ªappIdç»‘å®šå¤šä¸ªbundleIdå’ŒapplicationId ***
        *** å¡«å®Œæ¥å…¥ä¿¡æ¯è¡¨åï¼ŒSUDä¼šå°†Webçš„bundleIdå’ŒapplicationIdï¼Œç»‘å®šåˆ°QuickStartçš„appIdä¸Šï¼Œä»…æ”¯æŒæµ‹è¯•ç¯å¢ƒ ***
  </details>


- ç¬¬å››æ­¥ï¼šåœ¨é¡µé¢ä¸Šæ·»åŠ æŒ‚åœ¨å…ƒç´ 
    <details>
    <summary>è¯¦ç»†æè¿° /react/src/pc/GameDetail.tsx</summary>

    ```html
      <div>
        <!-- æ¸¸æˆæŒ‚è½½å®¹å™¨ï¼Œéœ€è‡ªå®šä¹‰å®½é«˜æ ·å¼ -->
        <div id='game'></div>
      </div>
    ```
    </details>


- ç¬¬äº”æ­¥ï¼šåŠ è½½æ¸¸æˆ
    <details>
    <summary>è¯¦ç»†æè¿° /react/src/hooks/useGameDetail.ts</summary>

    ``` javascript
      import { SDKGameView } from "QuickStart"
      const root = document.getElementById('game') // è·å–æŒ‚è½½å®¹å™¨å…ƒç´ 
      const gameRoomId = 'xxxx' // ä¸šåŠ¡è‡ªèº«çš„roomId
      const gameId = 'xxxxx' // æ¥å…¥çš„æ¸¸æˆid
      const userId = Math.floor((Math.random() + 1) * 10000).toString() // ä¸šåŠ¡è‡ªèº«çš„userId
      if (root) {
        // åˆå§‹åŒ–
        const nsdk = new SDKGameView({ root, gameRoomId, gameId, userId })

        nsdk.setSudFSMMGListener({
          onGameStarted() {
            console.log('========onGameStartedäº‹ä»¶=====')
          }
        })
        // è°ƒç”¨login è·å–code
        nsdk.login(userId)
      }    
    ```
    </details>


- ç¬¬å…­æ­¥ï¼šé”€æ¯æ¸¸æˆ
    <details>
    <summary>è¯¦ç»†æè¿°</summary>

    ``` javascript
      root.innerHTML = '' // æ¸…ç©ºæŒ‚è½½å®¹å™¨å†…éƒ¨å…ƒç´ 
      // æ‰§è¡Œsdkçš„é”€æ¯æ–¹æ³•
      nsdk.onDestroy()
    ```
    </details>

## æ³¨æ„äº‹é¡¹
   1. onGetGameViewInfo éœ€è¦å°†æ¸¸æˆè¿”å›çš„dprå€¼å¯¹å®½é«˜è¿›è¡Œå¤„ç†ï¼Œ ä»£ç å¦‚ä¸‹
  ``` javascript
    onGetGameViewInfo: function (handle: ISudFSMStateHandle, dataJson: string): void {
        const width = self.root.clientWidth
        const height = self.root.clientHeight
        const data = JSON.parse(dataJson)
        const dpr = data.ratio || 1 //éƒ¨åˆ†æ¸¸æˆå¯èƒ½ä¼šæ²¡æœ‰ratioï¼Œ éœ€è¦è®¾ç½®é»˜è®¤å€¼ï¼š1
        const gameViewInfo = {
          ret_code: 0,
          ret_msg: "success",
          view_size: {
            width: width * dpr, // å¯¹å®½é«˜è¿›è¡Œdprçš„è®¡ç®—
            height: height * dpr
          },
          view_game_rect: {
            left: 0,
            right: 0,
            top: 50,
            bottom: 50
          }
        }
        handle.success(JSON.stringify(gameViewInfo))
      },

  ```

  2. webçš„é€šä¿¡æœºåˆ¶åŸºäºwindow.onmessageäº‹ä»¶ï¼Œå¦‚æœwebé¡µé¢æœ¬èº«ä¹Ÿä½¿ç”¨äº†window.onmessageäº‹ä»¶ï¼Œéœ€è¦æ·»åŠ ä»¥ä¸‹ä»£ç ï¼ŒSudSDkä¸ä¼šå¯¹webè‡ªèº«å®šä¹‰çš„window.onmessageæ–¹æ³•è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œä»ç„¶ä¼šæœ‰å¯¹åº”çš„ç›‘å¬æ‰§è¡Œ
  ```javascript
      // é¡µé¢ä¸­å®šä¹‰çš„onmessage
      window.onmessage = function (data) {
        console.log('[ webè‡ªå·±çš„ç›‘å¬æ–¹æ³•æ‰§è¡Œäº† ] >', data)
      }
      // æ·»åŠ ä¸‹é¢ä¸€è¡Œä»£ç å³å¯
      // SudSDk æ˜¯SDKGameViewï¼ˆsrc/QuickStartä¸­çš„classï¼‰çš„å®ä¾‹
      SudSDk && SudSDk._registerCustomCommandEvent()

  ```



# QuickStart æ¶æ„å›¾

![QuickStartArch.png](doc/QuickStartArch.png)

# 1. SudMGP SDK

### 1.1 SudMGP Client SDK

- [ä¸‹è½½ SudMGP-Android-v1.1.52.554.zip](https://github.com/SudTechnology/sud-mgp-android/releases)
- [ä¸‹è½½ SudMGP-iOS-v1.1.52.527.zip](https://github.com/SudTechnology/sud-mgp-ios/releases)

### 1.2 æ¥å…¥æ–‡æ¡£

- [æ¥å…¥æ–‡æ¡£](https://docs.sud.tech/zh-CN/app/Client/API/)
- [FAQ](https://docs.sud.tech/zh-CN/app/Client/FAQ/)

# 2. SudMGPWrapper
 æºç åœ¨demoçš„SudMGPWrapperæ–‡ä»¶å¤¹
- `SudMGPWrapperå°è£…SudMGPï¼Œç®€åŒ–Appå’Œæ¸¸æˆç›¸äº’è°ƒç”¨`ï¼›
- `SudMGPWrapperé•¿æœŸç»´æŠ¤å’Œä¿æŒæ›´æ–°`ï¼›
- `æ¨èAPPæ¥å…¥æ–¹ä½¿ç”¨SudMGPWrapper`ï¼›
- `SudMGPAPPState`ã€`SudMGPMGState`ã€`SudFSMMGListener`ã€`SudFSMMGDecorator`ã€`SudFSTAPPDecoratoræ ¸å¿ƒç±»`ï¼›

### 2.1 Appè°ƒç”¨æ¸¸æˆ

- `SudMGPAPPState` å°è£… [Appé€šç”¨çŠ¶æ€](https://docs.sud.tech/zh-CN/app/Client/APPFST/CommonState.html) ï¼›
- `SudFSTAPPDecorator` appè°ƒç”¨apié€šçŸ¥æ¸¸æˆçš„ç±», å°è£… [ISudFSTAPP](https://docs.sud.tech/zh-CN/app/Client/API/ISudFSTAPP.html)
  ä¸¤ç±»æ¥å£ï¼Œ[notifyStateChange](https://docs.sud.tech/zh-CN/app/Client/APPFST/CommonState.html)ï¼›
- `SudFSTAPPDecorator` è´Ÿè´£æŠŠæ¯ä¸€ä¸ªAppé€šç”¨çŠ¶æ€å°è£…æˆæ¥å£ï¼›
    <details>
    <summary>ä»£ç æ¡†æ¶ class SudFSTAPPDecorator</summary>

    ``` javascript
    class SudFSTAPPDecorator {
        public setISudFSTAPP(ISudFSTAPP iSudFSTAPP);
        // 1. åŠ å…¥çŠ¶æ€
        public notifyAPPCommonSelfIn(isIn: boolean, seatIndex: number, isSeatRandom: boolean, teamId: number) {

        ...
    
        // 16. è®¾ç½®æ¸¸æˆä¸­çš„AIç©å®¶ï¼ˆ2022-05-11æ–°å¢ï¼‰
        public notifyAPPCommonGameAddAIPlayers(aiPlayers: AIPlayers[], isReady: number)
        public destroyMG();
        public updateCode(code: string, listener: ISudListenerNotifyStateChange)
        ...
    }
    ```
    </details>

  ## è°ƒç”¨apié€šçŸ¥æ¸¸æˆ
  å¯åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æŸ¥çœ‹è°ƒç”¨apiå­—ç¬¦ä¸²ï¼š
ğŸ‘‰ https://docs.sud.tech/zh-CN/app/Client/APPFST/CommonState.html

  1. åœ¨ **SudMGPWrapper** æºç ä¸­æœç´¢æ˜¯å¦å­˜åœ¨å¯¹åº”çš„APIï¼Œå¦‚è¦è°ƒç”¨"app_common_self_in" æ‰‹åŠ¨è®©ç”¨æˆ·åŠ å…¥æ¸¸æˆ
    ```js
      sudFSTAPPDecorator.notifyAPPCommonSelfIn(true)
    ```
  2. è‡ªå®šä¹‰äº‹ä»¶è°ƒç”¨
  å¦‚æœ SudMGPWrapper ä¸­æ²¡æœ‰å®šä¹‰å¯¹åº”çš„è°ƒç”¨ APIï¼Œå¯ä»¥ä½¿ç”¨é€šç”¨çš„è‡ªå®šä¹‰è°ƒç”¨æ–¹å¼ï¼š
  ```js
    sudFSTAPPDecorator.notifyAPPCommon(eventName, eventData)
  ```
  ç¤ºä¾‹ï¼š
  ```js
    sudFSTAPPDecorator.notifyAPPCommon(
      'app_common_game_ui_custom_config',
      JSON.stringify({})
    )
  ```

### 2.2 ç›‘å¬æ¸¸æˆå›è°ƒ

- `SudMGPMGState` å°è£… [é€šç”¨çŠ¶æ€-æ¸¸æˆ](https://docs.sud.tech/zh-CN/app/Client/MGFSM/CommonStateGame.html)
  å’Œ [é€šç”¨çŠ¶æ€-ç©å®¶](https://docs.sud.tech/zh-CN/app/Client/MGFSM/CommonStatePlayer.html) ï¼›
- `SudFSMMGListener` ç”¨äºå¤„ç†æ¸¸æˆå›è°ƒä¸šåŠ¡ï¼Œ å°è£…[ISudFSMMG](https://docs.sud.tech/zh-CN/app/Client/API/ISudFSMMG.html) ä¸‰ç±»å›è°ƒå‡½æ•°ï¼ŒonGameStateChangeã€onPlayerStateChangeï¼›
- `SudFSMMGListener` è´Ÿè´£æŠŠæ¸¸æˆæ¯ä¸€ä¸ªçŠ¶æ€å°è£…æˆå•ç‹¬çš„å›è°ƒå‡½æ•°ï¼›
    <details>
    <summary>ä»£ç æ¡†æ¶ interface SudFSMMGListener</summary>

    ``` javascript
    interface SudFSMMGListener {
        onGameLog(str: string): void
        onGameStarted();
        onGameDestroyed();
        onExpireCode(handle: ISudFSMStateHandle, dataJson: string): void
        onGetGameViewInfo(handle: ISudFSMStateHandle, dataJson: string): void
        onGetGameCfg(handle: ISudFSMStateHandle, dataJson: string): void
    
        // é€šç”¨çŠ¶æ€ - æ¸¸æˆ
        // void onGameStateChange(ISudFSMStateHandle handle, String state, String dataJson)ï¼›
        // æ–‡æ¡£: https://docs.sud.tech/zh-CN/app/Client/MGFSM/CommonStateGame.html
        // 1.æ¸¸æˆå…¬å±æ¶ˆæ¯
       onGameMGCommonPublicMessage?(handle: ISudFSMStateHandle, model: IMGCommonPublicMessage) 

        ...
    
        // 21. æ¸¸æˆé€šçŸ¥appå±‚æ·»åŠ é™ªç©æœºå™¨äººæ˜¯å¦æˆåŠŸï¼ˆ2022-05-17æ–°å¢ï¼‰
        onGameMGCommonGameAddAIPlayers?(handle: ISudFSMStateHandle, model: IMGCommonGameAddAIPlayers)

        
        // é€šç”¨çŠ¶æ€ - ç©å®¶
        // void onPlayerStateChange(ISudFSMStateHandle handle, String userId, String state, String dataJson);
        // æ–‡æ¡£: https://docs.sud.tech/zh-CN/app/Client/MGFSM/CommonStatePlayer.html
        // 1.åŠ å…¥çŠ¶æ€
        onPlayerMGCommonPlayerIn?(handle: ISudFSMStateHandle, userId: string, model: IMGCommonPlayerIn)
        ...
    
        // 11. æ¸¸æˆé€šçŸ¥appå±‚å½“å‰æ¸¸æˆå‰©ä½™æ—¶é—´ï¼ˆ2022-05-23æ–°å¢ï¼Œç›®å‰UMOç”Ÿæ•ˆï¼‰
        onPlayerMGCommonGameCountdownTime?(handle: ISudFSMStateHandle, userId: string, model: IMGCommonGameCountdownTime)
    
        // æ¸¸æˆä¸ªæ€§åŒ–çŠ¶æ€ï¼šä½ ç”»æˆ‘çŒœ
        // æ–‡æ¡£ï¼šhttps://docs.sud.tech/zh-CN/app/Client/MGFSM/DrawGuess.html
        // 1. é€‰è¯ä¸­çŠ¶æ€
        onPlayerMGDGSelecting?(handle: ISudFSMStateHandle, userId: string, model: IMGDGSelecting)
        ...
    }
    ```
    </details>

   ## ä¸€ã€ç›‘å¬æ¸¸æˆçš„å›è°ƒ

    å¯åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æŸ¥çœ‹å¯ç›‘å¬çš„å›è°ƒå­—ç¬¦ä¸²ï¼š  
    ğŸ‘‰ [https://docs.sud.tech/zh-CN/app/Client/MGFSM/CommonStateGame.html](https://docs.sud.tech/zh-CN/app/Client/MGFSM/CommonStateGame.html)

    ### 1. æŸ¥æ‰¾å¯¹åº”å›è°ƒ API

    - æ ¹æ®æ–‡æ¡£ä¸­çš„å›è°ƒå­—ç¬¦ä¸²ï¼Œåœ¨ **SudMGPWrapper** æºç ä¸­æœç´¢æ˜¯å¦å­˜åœ¨å¯¹åº”çš„å›è°ƒ APIã€‚  
    - å¦‚æœå­˜åœ¨å¯¹åº”çš„ APIï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚

    **ç¤ºä¾‹ï¼š**

    ```js
    // å›è°ƒå­—ç¬¦ä¸²ï¼š"mg_common_player_in"
    // å¯¹åº”çš„ç›‘å¬ APIï¼šonPlayerMGCommonPlayerIn
    this.sudFSMMGDecorator.setSudFSMMGListener({
      onPlayerMGCommonPlayerIn(handle, data) {
        console.log('ç©å®¶è¿›å…¥æ¸¸æˆ', data)
      }
    })

    ```

    ## äºŒã€ è‡ªå®šä¹‰ç›‘å¬å›è°ƒ

    å¦‚æœæ–‡æ¡£ä¸­çš„å›è°ƒå­—ç¬¦ä¸²åœ¨ SudMGPWrapper ä¸­æ‰¾ä¸åˆ°å¯¹åº”çš„å›è°ƒ APIï¼Œ
    å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç›‘å¬å›è°ƒè¿›è¡Œå¤„ç†ï¼š
    ```js
    onGameCustomerStateChange(handle, state, data) {
      // æ ¹æ® state å€¼è¿›è¡Œåˆ¤æ–­å’Œå¤„ç†
      console.log('è‡ªå®šä¹‰çŠ¶æ€å›è°ƒ', state, data)
    }
    ```

- [ISudFSMMG](https://docs.sud.tech/zh-CN/app/Client/API/ISudFSMMG.html) çš„è£…é¥°ç±»`SudFSMMGDecorator`ï¼Œè´Ÿè´£æ´¾å‘æ¯ä¸€ä¸ªæ¸¸æˆçŠ¶æ€ï¼Œç¼“å­˜éœ€è¦çš„æ¸¸æˆçŠ¶æ€ï¼›
    <details>
    <summary>ä»£ç æ¡†æ¶ class SudFSMMGDecorator</summary>

    ``` javascript
    class SudFSMMGDecorator implements ISudFSMMG {
        // è®¾ç½®å›è°ƒ
        public setSudFSMMGListener(listener: Partial<SudFSMMGListener>)
        // æ¸¸æˆæ—¥å¿—
        onGameLog(str: string): void
        // æ¸¸æˆåŠ è½½è¿›åº¦
        public onGameLoadingProgress(stage: number, retCode: number, progress: number)
        // æ¸¸æˆå·²å¼€å§‹ï¼Œæ¸¸æˆé•¿è¿æ¥å®Œæˆ
        public onGameStarted();
        // æ¸¸æˆé”€æ¯
        public onGameDestroyed();
        // Codeè¿‡æœŸï¼Œå¿…é¡»å®ç°ï¼›APPæ¥å…¥æ–¹å¿…é¡»è°ƒç”¨handle.successï¼Œé‡Šæ”¾å¼‚æ­¥å›è°ƒå¯¹è±¡
        public onExpireCode(handle: ISudFSMStateHandle, dataJson: string): void
        // è·å–æ¸¸æˆViewä¿¡æ¯ï¼Œå¿…é¡»å®ç°ï¼›APPæ¥å…¥æ–¹å¿…é¡»è°ƒç”¨handle.successï¼Œé‡Šæ”¾å¼‚æ­¥å›è°ƒå¯¹è±¡
        // GameViewInfoModelæ–‡æ¡£: https://docs.sud.tech/zh-CN/app/Client/API/ISudFSMMG/onGetGameViewInfo.html
        public onGetGameViewInfo(handle: ISudFSMStateHandle, dataJson: string)
        // è·å–æ¸¸æˆConfigï¼Œå¿…é¡»å®ç°ï¼›APPæ¥å…¥æ–¹å¿…é¡»è°ƒç”¨handle.successï¼Œé‡Šæ”¾å¼‚æ­¥å›è°ƒå¯¹è±¡
        // GameConfigModelæ–‡æ¡£: https://docs.sud.tech/zh-CN/app/Client/API/ISudFSMMG/onGetGameCfg.html
        public  onGetGameCfg(handle: ISudFSMStateHandle, dataJson: string): void
        // æ¸¸æˆçŠ¶æ€å˜åŒ–ï¼›APPæ¥å…¥æ–¹å¿…é¡»è°ƒç”¨handle.successï¼Œé‡Šæ”¾å¼‚æ­¥å›è°ƒå¯¹è±¡
        public onGameStateChange(handle: ISudFSMStateHandle, state: string, dataJson: string)
        // æ¸¸æˆç©å®¶çŠ¶æ€å˜åŒ–ï¼ŒAPPæ¥å…¥æ–¹å¿…é¡»è°ƒç”¨handle.successï¼Œé‡Šæ”¾å¼‚æ­¥å›è°ƒå¯¹è±¡
        public onPlayerStateChange(handle: ISudFSMStateHandle, userId: string, state: string, dataJson: string)
  
        ...
    }
    ```
    </details>

# 3. QuickStart

- è¯·ä½¿ç”¨QuickStarté¡¹ç›®è¿è¡Œï¼›
 QuickStart/react Development Setup
 ```
  npm install

  npm start
 ```

- demoè¿è¡Œ Nodeç‰ˆæœ¬ Node <= 16 å’Œ npm >= 5.6

- QuickStartä½¿ç”¨SudMGPWrapperã€SudMGPSDKå®ç°å¿«é€Ÿæ¥å…¥æ¸¸æˆï¼›
- å¿«é€Ÿæ¥å…¥æ–‡æ¡£ï¼š[StartUp-Android](https://docs.sud.tech/zh-CN/app/Client/StartUp-Android.html)
  ã€ [StartUp-iOS](https://docs.sud.tech/zh-CN/app/Client/StartUp-iOS.html) ã€[StartUp-Web](https://docs.sud.tech/zh-CN/app/Client/StartUp-Web.html)
- `SDKGameView` è´Ÿè´£login(App getCode) --> SudMGP.initSDK --> SudMGP.loadMGï¼›
- `QuickStart æœåŠ¡ç«¯` [hello-sud-java](https://github.com/SudTechnology/hello-sud-java) ï¼Œlogin(App getCode è·å–çŸ­æœŸä»¤ç‰Œcode) ï¼Œ`å¦‚æœè®¿é—®ä¸äº†ä»£ç ä»“åº“ï¼Œè¯·è”ç³»SUDæ·»åŠ ï¼Œgithubè´¦å·`ï¼›


- HelloSudä½“éªŒDemoï¼ˆå±•ç¤ºå¤šä¸šåŠ¡åœºæ™¯ï¼‰

![Android](doc/hello_sudplus_android.png)
![iPhone](doc/hello_sudplus_iphone.png)

# 4. æ¥å…¥æ–¹å®¢æˆ·ç«¯å’ŒSudMGP SDKè°ƒç”¨æ—¶åºå›¾

![AppCallSudMGPSeqDiag.png](doc/AppCallSudMGPSeqDiag.png)

